(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1593:function(e,l,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return o(7490)}])},7490:function(e,l,o){"use strict";o.r(l),o.d(l,{default:function(){return _}});var r=o(5893),t=o(6131),a=o.n(t),s=o(9876),i=o(1017),n=o(9236),c=o(4523),d=o(61),u=o(1232),h=o(1358),x=o(8393),g=o(9834),j=o(4777),v=o(4761),p=o(5078),f=o(1503),m=o(208),b=o(6126),w=function(e){let{scrollRefs:l,paused:o,font:t,searchTerm:a="",level:s,scrollDirection:n}=e,[c,d]=l,u=(0,v.rZ)(),{data:h}=(0,f.a)({queryKey:[a?"logs-".concat(a):"logs",s],queryFn:async()=>m.L.post("/js_admin/logger_get",{search:a,level:s}).then(e=>e.data),refetchInterval:15e3,enabled:!o,initialData:[]});return(0,r.jsx)(i.Z,{ref:d,sx:e=>({background:"dark"===e.colorScheme?void 0:"#FAFAFA",height:"500px",overflow:"auto",textRendering:"optimizeLegibility"}),children:(0,r.jsx)(p.i,{fontSize:"xs",striped:!0,highlightOnHover:!0,sx:{wordBreak:"break-word",fontFamily:"monospace"},withBorder:!0,children:(0,r.jsxs)("tbody",{children:["top"===n&&(0,r.jsx)("tr",{ref:c}),Array.isArray(h)&&(null==h?void 0:h.map((e,l)=>{var o,s,i,n,c;return(0,r.jsxs)("tr",{className:t.className,style:{background:"ERROR"===e.level?u.colors.pink[1]:void 0},children:[(0,r.jsxs)("td",{style:{width:"110px"},children:[(null===(o=e.date)||void 0===o?void 0:o.split(" ")[0])||"Date Unknown",(0,r.jsx)("br",{}),(0,r.jsx)("span",{style:{color:u.colors.gray[8],fontSize:u.fontSizes.xs},children:e.date&&(null===(i=null===(s=e.date)||void 0===s?void 0:s.split(" ")[1])||void 0===i?void 0:i.replace(",","."))})]}),(0,r.jsx)("td",{children:null===(n=(0,b.Qc)(e.log.replace(e.date+" - ","").replaceAll(a||null,(0,b.d3)(a))))||void 0===n?void 0:null===(c=n.spans)||void 0===c?void 0:c.map((e,l)=>{var o,t,a;return(0,r.jsx)("span",{style:{background:null===(o=e.bgColor)||void 0===o?void 0:o.name,fontWeight:e.bold?"bold":void 0,color:(null===(t=e.color)||void 0===t?void 0:t.name)==="yellow"?"blue":null===(a=e.color)||void 0===a?void 0:a.name},children:e.text},e.text+l)})})]},e.date+l||""+new Date().toISOString()+l)})),"bottom"===n&&(0,r.jsx)("tr",{ref:c})]})})})},y=o(9417),k=o(6344),R=o(7841),z=function(e){let{level:l,setLevel:o}=e;return(0,r.jsxs)(R.z.Group,{children:[(0,r.jsx)(R.z,{variant:"outline",size:"xs",color:"ERROR"===l?"orange":"gray",onClick:()=>"ERROR"===l?o(null):o("ERROR"),children:"Error"}),(0,r.jsx)(R.z,{variant:"outline",size:"xs",color:"WARNING"===l?"orange":"gray",onClick:()=>"WARNING"===l?o(null):o("WARNING"),children:"Warning"}),(0,r.jsx)(R.z,{variant:"outline",size:"xs",color:"INFO"===l?"orange":"gray",onClick:()=>"INFO"===l?o(null):o("INFO"),children:"Info"})]})},N=o(3991),A=o(9008),C=o.n(A),S=o(7294),_=function(){let[e,l]=(0,y.G)("",800),[o,t]=(0,S.useState)(null),[v,p]=(0,S.useState)(!1),{scrollIntoView:f,targetRef:m,scrollableRef:b}=(0,k.g)({offset:0,onScrollFinish:()=>A(null),easing:e=>e<.5?16*Math.pow(e,5):1-Math.pow(-2*e+2,5)/2}),[R,A]=(0,S.useState)("bottom");return(0,S.useEffect)(()=>{f({alignment:"start"})},[R]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C(),{children:(0,r.jsx)("title",{children:"Logs"})}),(0,r.jsx)(s.k,{justify:"center",align:"center",children:(0,r.jsxs)(i.Z,{w:"90%",h:"90%",withBorder:!0,shadow:"md",radius:"md",sx:{margin:"0 auto"},p:30,children:[(0,r.jsx)(n.D,{order:3,mb:"xl",children:"Logs"}),(0,r.jsxs)(i.Z,{withBorder:!0,px:0,pt:0,sx:{maxHeight:"90vh"},children:[(0,r.jsxs)(c.x,{p:"xs",children:[(0,r.jsx)(d.o,{label:"Filter",variant:"default",spellCheck:"false",placeholder:"Enter search term e.g jaseci, jaseci|objects, anything",size:"xs",defaultValue:e,onChange:e=>l(e.target.value)}),(0,r.jsxs)(s.k,{justify:"space-between",mt:"xs",children:[(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(h.Ph,{"aria-label":"Choose Time",placeholder:"Choose Time",size:"xs",variant:"default",defaultValue:"realTime",data:[{value:"realTime",label:"Real-time"},{value:"lastHour",label:"Last Hour"},{value:"last3Hours",label:"Last 3 Hours"},{value:"Last Day",label:"Last Day"}]}),(0,r.jsx)(x.u,{"data-testId":"pause-logs",label:v?"Resume Logs":"Pause Logs",withArrow:!0,children:(0,r.jsx)(g.A,{onClick:()=>p(e=>!e),variant:"light",color:"orange","aria-label":"Pause Logs",children:v?(0,r.jsx)(N.Qig,{size:16,children:" "}):(0,r.jsx)(N.z8K,{size:16})})}),(0,r.jsx)(x.u,{"data-testid":"scroll-to-top",label:"Scroll to Top",withArrow:!0,children:(0,r.jsx)(g.A,{variant:"light",color:"orange",onClick(){A("top")},"aria-label":"Scroll to Top",children:(0,r.jsx)(N.CzJ,{size:16})})}),(0,r.jsx)(x.u,{"data-testid":"scroll-to-bottom",label:"Scroll to Bottom",withArrow:!0,children:(0,r.jsx)(g.A,{variant:"light",color:"orange",onClick(){A("bottom")},"aria-label":"Scroll to Bottom",children:(0,r.jsx)(N.BDo,{size:16})})})]}),(0,r.jsx)(z,{setLevel:t,level:o})]})]}),(0,r.jsx)(j.i,{}),(0,r.jsx)(w,{scrollDirection:R,scrollRefs:[m,b],paused:v,level:o,font:a(),searchTerm:e})]})]})})]})})}}},function(e){e.O(0,[289,358,30,774,888,179],function(){return e(e.s=1593)}),_N_E=e.O()}]);