import{S as oe,V as ne,a as re,_ as N}from"./VToolbar-DYWA0GOE.js";import{a9 as ie,_ as k,k as le,Q as w,R as l,O as T,P as d,L as a,aa as y,ab as B,ac as de,M as ce,ad as ue,ae as W,af as me,ag as be,x as F,ah as fe,ai as pe,G as j,aj as ge,r as z,h as A,K as q,ak as R,al as P,am as D,an as ve,ao as _e,ap as he,aq as Se,ar as ye,as as Te,at as Ve,au as f,av as Ce,z as we,aw as ke,ax as H,t as O,N as xe,ay as p,az as G,aA as $e,aB as Be,aC as Ae,m as Pe,aD as De}from"./admin-drawer-panel-BFTD31i8.js";import{u as Le}from"./main-BpWFVT87.js";import{t as Ie}from"./index-DUjeNg4x.js";import{f as Me}from"./confirm-footer-DhN-8qzR.js";import{m as Ee,V as U}from"./VSlideGroup-DPSrOleH.js";import{V as ze,a as Re}from"./VWindowItem-D88lIhcX.js";import{V as Oe}from"./VMain-Bg06hxTl.js";import"./change-password-dialog-BV_ODH9y.js";import"./VSelectionControl-CHDbCGsK.js";const Ge={name:"AdminTitleToolbar",components:{SettingsDrawerButton:oe},computed:{...ie(le,["isSettingsDrawerOpen"])}};function Ue(e,t,r,u,o,m){const i=w("SettingsDrawerButton");return l(),T(re,{id:"titleBar",class:B(["codexToolbar",{drawerMargin:!e.$vuetify.display.mdAndDown}]),density:"compact",elevation:"8"},{default:d(()=>[a(ne,{class:"codexToolbarTitle"},{default:d(()=>[y(" Codex Administration ")]),_:1}),a(i,{class:B({invisible:e.isSettingsDrawerOpen}),disabled:e.isSettingsDrawerOpen,plain:e.isSettingsDrawerOpen,onClick:t[0]||(t[0]=s=>e.isSettingsDrawerOpen=!0)},null,8,["class","disabled","plain"])]),_:1},8,["class"])}const X=k(Ge,[["render",Ue],["__scopeId","data-v-15c77dc3"]]),Ne={name:"AdminSettingsPanel",data(){return{mdiBookshelf:de}},computed:{...ce(Le,{browserRoute:e=>e.page.routes.last?{name:"browser",params:e.page.routes.last}:{name:"home"}})}};function We(e,t,r,u,o,m){return l(),T(be,{ref:"browserLink",to:e.browserRoute},{default:d(()=>[a(me,null,{default:d(()=>[a(ue,null,{default:d(()=>[y(W(o.mdiBookshelf),1)]),_:1}),y("Browser ")]),_:1})]),_:1},8,["to"])}const Fe=k(Ne,[["render",We]]),Y=Symbol.for("vuetify:v-tabs"),je=F({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...fe(pe({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),K=j()({name:"VTab",props:je(),setup(e,t){let{slots:r,attrs:u}=t;const{textColorClasses:o,textColorStyles:m}=ge(e,"sliderColor"),i=z(),s=z(),n=A(()=>e.direction==="horizontal"),c=A(()=>{var g,b;return((b=(g=i.value)==null?void 0:g.group)==null?void 0:b.isSelected.value)??!1});function Q(g){var L,I;let{value:b}=g;if(b){const x=(I=(L=i.value)==null?void 0:L.$el.parentElement)==null?void 0:I.querySelector(".v-tab--selected .v-tab__slider"),$=s.value;if(!x||!$)return;const J=getComputedStyle(x).color,v=x.getBoundingClientRect(),_=$.getBoundingClientRect(),V=n.value?"x":"y",C=n.value?"X":"Y",M=n.value?"right":"bottom",h=n.value?"width":"height",Z=v[V],ee=_[V],S=Z>ee?v[M]-_[M]:v[V]-_[V],te=Math.sign(S)>0?n.value?"right":"bottom":Math.sign(S)<0?n.value?"left":"top":"center",ae=(Math.abs(S)+(Math.sign(S)<0?v[h]:_[h]))/Math.max(v[h],_[h])||0,se=v[h]/_[h]||0,E=1.5;ve($,{backgroundColor:[J,"currentcolor"],transform:[`translate${C}(${S}px) scale${C}(${se})`,`translate${C}(${S/E}px) scale${C}(${(ae-1)/E+1})`,"none"],transformOrigin:Array(3).fill(te)},{duration:225,easing:_e})}}return q(()=>{const g=R.filterProps(e);return a(R,D({symbol:Y,ref:i,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},g,u,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":Q}),{...r,default:()=>{var b;return a(P,null,[((b=r.default)==null?void 0:b.call(r))??e.text,!e.hideSlider&&a("div",{ref:s,class:["v-tab__slider",o.value],style:m.value},null)])}})}),Me({},i)}});function qe(e){return e?e.map(t=>ke(t)?t:{text:t,value:t}):[]}const He=F({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ee({mandatory:"force"}),...he(),...Se()},"VTabs"),Xe=j()({name:"VTabs",props:He(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const u=ye(e,"modelValue"),o=A(()=>qe(e.items)),{densityClasses:m}=Te(e),{backgroundColorClasses:i,backgroundColorStyles:s}=Ve(f(e,"bgColor"));return Ce({VTab:{color:f(e,"color"),direction:f(e,"direction"),stacked:f(e,"stacked"),fixed:f(e,"fixedTabs"),sliderColor:f(e,"sliderColor"),hideSlider:f(e,"hideSlider")}}),q(()=>{const n=U.filterProps(e);return a(U,D(n,{modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},m.value,i.value,e.class],style:[{"--v-tabs-height":we(e.height)},s.value,e.style],role:"tablist",symbol:Y}),{default:()=>[r.default?r.default():o.value.map(c=>a(K,D(c,{key:c.text}),null))]})}),{}}}),Ye={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...H(O,["librariesExist"])},watch:{$route(e){const r=e.path.split("/").at(-1);this.activeTab=Ie(r)}},mounted(){this.librariesExist||this.loadTables(["Library"])},methods:{...xe(O,["loadTables"])}},Ke={id:"tabContainer"},Qe={key:0,id:"noLibraries"};function Je(e,t,r,u,o,m){const i=w("router-view");return l(),p("div",Ke,[a(Xe,{id:"tabs",class:B({rightMargin:!e.$vuetify.display.mdAndDown}),centered:"",grow:"","show-arrows":""},{default:d(()=>[(l(!0),p(P,null,G(o.tabs,s=>(l(),T(K,{key:s,modelValue:o.activeTab,"onUpdate:modelValue":t[0]||(t[0]=n=>o.activeTab=n),to:s.toLowerCase()},{default:d(()=>[y(W(s),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),a(Re,{id:"tabItems",modelValue:o.activeTab,"onUpdate:modelValue":t[1]||(t[1]=s=>o.activeTab=s),touch:!1},{default:d(()=>[(l(!0),p(P,null,G(o.tabs,s=>(l(),T(i,{key:s},{default:d(({Component:n})=>[a(ze,{value:s,class:"tabItemContainer"},{default:d(()=>[(l(),T($e(n)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.librariesExist?Be("",!0):(l(),p("div",Qe," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const Ze=k(Ye,[["render",Je],["__scopeId","data-v-03b1c9e5"]]),et={name:"MainAdmin",components:{AdminTitleToolbar:X,AdminTabs:Ze,SettingsDrawer:N},data(){return{AdminSettingsPanel:Ae(Fe)}},computed:{...H(Pe,["isUserAdmin"])}},tt={id:"adminWrapper"},at={key:0,id:"adminContainer"},st={key:1,id:"announcement"};function ot(e,t,r,u,o,m){const i=X,s=w("AdminTabs"),n=N,c=w("router-link");return l(),p("div",tt,[e.isUserAdmin?(l(),p("div",at,[a(Oe,null,{default:d(()=>[a(i),a(s)]),_:1}),a(n,{title:"Admin Status",admin:!0,panel:o.AdminSettingsPanel},null,8,["panel"])])):(l(),p("div",st,[De("h1",null,[a(c,{to:{name:"home"}},{default:d(()=>[y(" Log in ")]),_:1}),y(" as an Administrator to use this panel ")])]))])}const gt=k(et,[["render",ot],["__scopeId","data-v-0605704c"]]);export{gt as default};
