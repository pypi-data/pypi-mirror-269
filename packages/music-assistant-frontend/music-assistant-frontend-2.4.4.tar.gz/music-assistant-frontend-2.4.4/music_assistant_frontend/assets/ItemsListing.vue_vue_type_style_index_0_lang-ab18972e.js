import{az as Y,aA as ie,p as re,g as ue,c as ce,aB as Oe,d as at,aC as lt,h as ot,e as nt,r as C,s as Ne,w as R,o as de,aD as st,l as u,n as A,aE as it,q as ve,aF as rt,aG as ut,y as d,E as L,_ as ee,I as p,B as U,N as O,a8 as ct,a9 as dt,v as vt,L as Be,O as ft,b as mt,A as i,z as y,aa as pt,J as Ve,Q as K,x as T,F as W,G as Q,M as yt,K as H,Z as ht,ak as gt}from"./index-e734c256.js";import{L as bt}from"./ListviewItem-04c2a02f.js";import{C as kt,B as E,_ as $e,L as te}from"./Container-235383e5.js";import{_ as wt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-1aec1346.js";import{e as St,i as Ct,a as Bt}from"./contextmenu-c35de49a.js";import{A as _e}from"./Alert-f8f9596c.js";import{V as Vt}from"./VToolbar-c9911418.js";import{V as $t}from"./VTextField-95a689ca.js";import{V as ae}from"./VBadge-e60e80c3.js";import{a as Ee,d as Me,y as _t,z as It,c as Ft,A as At,B as Lt,C as Pt,D as Ot,g as Nt,i as Et,E as Mt,v as Te,j as Tt,F as jt,n as P,k as le,l as oe}from"./forwardRefs-708ed339.js";import{V as Ie}from"./VCard-4532b814.js";import{m as Rt,a as Dt,f as Fe,b as ne,e as se,d as Kt}from"./VMenu-ec95eec6.js";/* empty css              */import{V as Ut}from"./VVirtualScroll-acb73766.js";const je=(()=>Y.reduce((t,r)=>(t[r]={type:[Boolean,String,Number],default:!1},t),{}))(),Re=(()=>Y.reduce((t,r)=>{const a="offset"+ie(r);return t[a]={type:[String,Number],default:null},t},{}))(),De=(()=>Y.reduce((t,r)=>{const a="order"+ie(r);return t[a]={type:[String,Number],default:null},t},{}))(),Ae={col:Object.keys(je),offset:Object.keys(Re),order:Object.keys(De)};function qt(t,r,a){let s=t;if(!(a==null||a===!1)){if(r){const o=r.replace(t,"");s+=`-${o}`}return t==="col"&&(s="v-"+s),t==="col"&&(a===""||a===!0)||(s+=`-${a}`),s.toLowerCase()}}const Gt=["auto","start","end","center","baseline","stretch"],Ht=re({cols:{type:[Boolean,String,Number],default:!1},...je,offset:{type:[String,Number],default:null},...Re,order:{type:[String,Number],default:null},...De,alignSelf:{type:String,default:null,validator:t=>Gt.includes(t)},...Ee(),...Me()},"VCol"),zt=ue()({name:"VCol",props:Ht(),setup(t,r){let{slots:a}=r;const s=ce(()=>{const o=[];let f;for(f in Ae)Ae[f].forEach(b=>{const B=t[b],h=qt(f,b,B);h&&o.push(h)});const V=o.some(b=>b.startsWith("v-col-"));return o.push({"v-col":!V||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return Oe(t.tag,{class:[s.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}}),fe=["start","end","center"],Ke=["space-between","space-around","space-evenly"];function me(t,r){return Y.reduce((a,s)=>{const o=t+ie(s);return a[o]=r(),a},{})}const Jt=[...fe,"baseline","stretch"],Ue=t=>Jt.includes(t),qe=me("align",()=>({type:String,default:null,validator:Ue})),Wt=[...fe,...Ke],Ge=t=>Wt.includes(t),He=me("justify",()=>({type:String,default:null,validator:Ge})),Qt=[...fe,...Ke,"stretch"],ze=t=>Qt.includes(t),Je=me("alignContent",()=>({type:String,default:null,validator:ze})),Le={align:Object.keys(qe),justify:Object.keys(He),alignContent:Object.keys(Je)},Yt={align:"align",justify:"justify",alignContent:"align-content"};function Zt(t,r,a){let s=Yt[t];if(a!=null){if(r){const o=r.replace(t,"");s+=`-${o}`}return s+=`-${a}`,s.toLowerCase()}}const Xt=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ue},...qe,justify:{type:String,default:null,validator:Ge},...He,alignContent:{type:String,default:null,validator:ze},...Je,...Ee(),...Me()},"VRow"),xt=ue()({name:"VRow",props:Xt(),setup(t,r){let{slots:a}=r;const s=ce(()=>{const o=[];let f;for(f in Le)Le[f].forEach(V=>{const b=t[V],B=Zt(f,V,b);B&&o.push(B)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return Oe(t.tag,{class:["v-row",s.value,t.class],style:t.style},(o=a.default)==null?void 0:o.call(a))}}});function ea(t){const r=Ne(t);let a=-1;function s(){clearInterval(a)}function o(){s(),ve(()=>r.value=t)}function f(V){const b=V?getComputedStyle(V):{transitionDuration:.2},B=parseFloat(b.transitionDuration)*1e3||200;if(s(),r.value<=0)return;const h=performance.now();a=window.setInterval(()=>{const _=performance.now()-h+B;r.value=Math.max(t-_,0),r.value<=0&&s()},B)}return it(s),{clear:s,time:r,start:f,reset:o}}const ta=re({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,..._t({location:"bottom"}),...It(),...Ft(),...At(),...at(),...lt(Rt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),aa=ue()({name:"VSnackbar",props:ta(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:a}=r;const s=ot(t,"modelValue"),{locationStyles:o}=Lt(t),{positionClasses:f}=Pt(t),{scopeId:V}=Dt(),{themeClasses:b}=nt(t),{colorClasses:B,colorStyles:h,variantClasses:_}=Ot(t),{roundedClasses:g}=Nt(t),$=ea(Number(t.timeout)),w=C(),I=C(),S=Ne(!1);R(s,M),R(()=>t.timeout,M),de(()=>{s.value&&M()});let m=-1;function M(){$.reset(),window.clearTimeout(m);const j=Number(t.timeout);if(!s.value||j===-1)return;const q=st(I.value);$.start(q),m=window.setTimeout(()=>{s.value=!1},j)}function Z(){$.reset(),window.clearTimeout(m)}function X(){S.value=!0,Z()}function x(){S.value=!1,M()}return Et(()=>{const j=Fe.filterProps(t),q=!!(a.default||a.text||t.text);return u(Fe,A({ref:w,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},f.value,t.class],style:t.style},j,{modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,contentProps:A({class:["v-snackbar__wrapper",b.value,B.value,g.value,_.value],style:[o.value,h.value],onPointerenter:X,onPointerleave:x},j.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},V),{default:()=>{var D,G;return[Mt(!1,"v-snackbar"),t.timer&&!S.value&&u("div",{key:"timer",class:"v-snackbar__timer"},[u(Te,{ref:I,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":$.time.value},null)]),q&&u("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=a.text)==null?void 0:D.call(a))??t.text,(G=a.default)==null?void 0:G.call(a)]),a.actions&&u(Tt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[u("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),jt({},w)}}),We=(t,r)=>{const a=t.__vccOpts||t;for(const[s,o]of r)a[s]=o;return a},la={},oa=t=>(ct("data-v-259be2b2"),t=t(),dt(),t),na={class:"container"},sa=oa(()=>U("div",{class:"spinner"},null,-1)),ia=[sa];function ra(t,r){return d(),L("div",na,ia)}const ua=We(la,[["render",ra],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),ca=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),da=(t,r,a)=>()=>{const s=a.parentEl||document.documentElement;a.prevHeight=s.scrollHeight,r.loading(),t("infinite",r)},va=(t,r)=>{const a=t.getBoundingClientRect();if(!r)return a.top>=0&&a.bottom<=window.innerHeight;const s=r.getBoundingClientRect();return a.top>=s.top&&a.bottom<=s.bottom},Pe=t=>{t.parentEl=document.querySelector(t.target)||null;let r=`0px 0px ${t.distance}px 0px`;t.top&&(r=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:r});return a.observe(t.infiniteLoading.value),a},fa={class:"state-error"},ma={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:r}){const a=t;let s=null;const o=C(null),f=C("ready"),{top:V,firstload:b,target:B,distance:h}=a,{identifier:_}=rt(a),g={infiniteLoading:o,target:B,top:V,firstload:b,distance:h,prevHeight:0,parentEl:null};g.emit=da(r,ca(f),g);const $=()=>R(f,async I=>{const S=g.parentEl||document.documentElement;await ve(),I=="loaded"&&V&&(S.scrollTop=S.scrollHeight-g.prevHeight),I=="loaded"&&va(o.value,g.parentEl)&&g.emit(),I=="complete"&&s.disconnect()}),w=()=>R(_,()=>{f.value="ready",s.disconnect(),s=Pe(g)});return de(()=>{s=Pe(g),$(),_&&w()}),ut(()=>{s.disconnect()}),(I,S)=>(d(),L("div",{ref_key:"infiniteLoading",ref:o},[f.value=="loading"?ee(I.$slots,"spinner",{key:0},()=>[u(ua)],!0):p("v-if",!0),f.value=="complete"?ee(I.$slots,"complete",{key:1},()=>{var m;return[U("span",null,O(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):p("v-if",!0),f.value=="error"?ee(I.$slots,"error",{key:2,retry:g.emit},()=>{var m;return[U("span",fa,[U("span",null,O(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),U("button",{class:"retry",onClick:S[0]||(S[0]=(...M)=>g.emit&&g.emit(...M))}," retry ")])]},!0):p("v-if",!0)],512))}},pa=We(ma,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const ya={key:0},ha={key:0},ga={key:1},ba={key:5},Na=vt({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(Be.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{default:void 0},hideOnEmpty:{type:Boolean,default:!1},providerFilter:{default:void 0},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{default:void 0},loadPagedData:{type:Function,default:void 0},loadItems:{type:Function,default:void 0},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{default:void 0}},emits:["refreshClicked"],setup(t,{emit:r}){const a=t,s=pt(),o=C({offset:0,limit:100,sortBy:"name",search:"",providerFilter:"library"}),f=C("list"),V=C(!1),b=C(!1),B=C(!1),h=C([]),_=C([]),g=C(),$=C(!1),w=C([]),I=C(!1),S=C(!1),m=C(!0),{t:M}=ft(),Z=r,X=function(){b.value?b.value=!1:(b.value=!0,ve(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},x=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},j=function(){f.value==="panel"?f.value="list":f.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,f.value)},q=function(){o.value.favoritesOnly=!o.value.favoritesOnly;const e=o.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),N(!0)},D=function(){o.value.albumArtistsFilter=!o.value.albumArtistsFilter;const e=o.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),N(!0)},G=function(e){return w.value.includes(e)},pe=function(e,n){if(n)w.value.includes(e)||w.value.push(e);else for(let l=0;l<w.value.length;l++)w.value[l]===e&&w.value.splice(l,1)},Qe=function(){S.value&&(w.value=[]),S.value=!S.value},z=function(e,n=!0){w.value=[e],ye(n)},ye=function(e=!0){St.emit("playdialog",{items:w.value,parentItem:a.parentItem,showContextMenuItems:e})},Ye=function(){Z("refreshClicked"),N(!0,void 0,!0)},he=function(e){var n;if(!Ct(e)){z(e,!1);return}e.media_type==yt.FOLDER?s.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=Ve.selectedPlayer)!=null&&n.available)?s.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):z(e,!0)},Ze=function(){o.value.search="",b.value=!1,N(!0)},ge=ce(()=>{var e=!1;return o.value.search&&o.value.search.length!==0&&(e=!0),e}),Xe=function(e,n){e!==void 0&&(o.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,o.value.sortBy),N(!0,void 0,e=="original")},xe=function(e){o.value.providerFilter=e,N(!0,void 0,!0)},be=function(e){if(h.value.length==0){e&&e.loaded();return}if(g.value!==void 0&&o.value.offset>=g.value){e&&e.loaded();return}o.value.offset+=a.limit,N().then(()=>{e&&e.loaded()})},et=function(){localStorage.setItem("globalsearch",o.value.search),s.push({name:"search",params:{initSearch:o.value.search}})};R(()=>o.value.search,e=>{e&&(b.value=!0),N(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,o.value.search)}),R(()=>a.path,()=>{_.value=[],ke()}),R(()=>a.limit,e=>{o.value.limit=e});const N=async function(e=!1,n=a.limit,l=!1){if((e||l)&&(o.value.offset=0,I.value=!1),$.value=!0,o.value.limit=a.limit,o.value.refresh=l,a.loadPagedData!==void 0){const k=await a.loadPagedData(o.value);k&&(o.value.offset?h.value.push(...k.items):h.value=k.items,g.value=k.total)}else if(a.loadItems!==void 0){(_.value.length===0||l)&&(_.value=[],_.value=await a.loadItems(o.value),o.value,g.value=_.value.length);const k=tt(_.value,o.value);o.value.offset?h.value.push(...k):h.value=k}$.value=!1},J=function(e){return"label"in e&&e.label&&e.name?M(e.label,[e.name]):"label"in e&&e.label?M(e.label):"sort_name"in e&&e.sort_name?e.sort_name:e.name},tt=function(e,n){var k,F;let l=[];if(n.search){const v=n.search.toLowerCase();for(const c of e)(c.name.toLowerCase().includes(v)||"artist"in c&&((k=c.artist)!=null&&k.name.toLowerCase().includes(v))||"album"in c&&((F=c.album)!=null&&F.name.toLowerCase().includes(v))||"artists"in c&&c.artists&&c.artists[0].name.toLowerCase().includes(v))&&l.push(c)}else l=e;return n.sortBy=="name"&&l.sort((v,c)=>J(v).localeCompare(J(c))),n.sortBy=="name_desc"&&l.sort((v,c)=>J(c).localeCompare(J(v))),n.sortBy=="album"&&l.sort((v,c)=>{var Se,Ce;return(Ce=v.album)==null?void 0:Ce.sort_name.localeCompare((Se=c.album)==null?void 0:Se.sort_name)}),n.sortBy=="artist"&&l.sort((v,c)=>v.artists[0].name.localeCompare(c.artists[0].name)),n.sortBy=="track_number"&&(l.sort((v,c)=>(v.track_number||0)-(c.track_number||0)),l.sort((v,c)=>(v.disc_number||0)-(c.disc_number||0))),n.sortBy=="position"&&l.sort((v,c)=>(v.position||0)-(c.position||0)),n.sortBy=="position_desc"&&l.sort((v,c)=>(c.position||0)-(v.position||0)),n.sortBy=="year"&&l.sort((v,c)=>(v.year||0)-(c.year||0)),n.sortBy=="recent"&&l.sort((v,c)=>(c.timestamp_added||0)-(v.timestamp_added||0)),n.sortBy=="duration"&&l.sort((v,c)=>(v.duration||0)-(c.duration||0)),n.sortBy=="duration_desc"&&l.sort((v,c)=>(c.duration||0)-(v.duration||0)),n.sortBy=="provider"&&l.sort((v,c)=>v.provider.localeCompare(c.provider)),n.favoritesOnly&&(l=l.filter(v=>v.favorite)),l.slice(n.offset,n.offset+n.limit)},ke=function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?f.value=e:a.itemtype=="artists"||a.itemtype=="albums"?f.value="panel":f.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?o.value.sortBy=n:o.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const F=localStorage.getItem(`favoriteFilter.${a.itemtype}`);F&&F=="true"&&(o.value.favoritesOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const F=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);F&&(o.value.albumArtistsFilter=F=="true")}if(a.allowCollapse!==!1){const F=localStorage.getItem(`expand.${a.itemtype}`);F&&(m.value=F=="true")}let l=`search.${a.itemtype}`;a.parentItem&&(l+=a.parentItem.item_id);const k=localStorage.getItem(l);k&&k!=="null"&&(o.value.search=k),N(!0)};de(async()=>{ke()});const we=function(e){if(!Ve.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();h.value.length<g.value&&!(g.value!==void 0&&o.value.offset>=g.value);)o.value.offset+=a.limit,N();w.value=h.value,S.value=!0}else!B.value&&e.key=="Backspace"?o.value.search=o.value.search.slice(0,-1):!B.value&&e.key.length==1&&(o.value.search+=e.key,b.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",we),mt(()=>{document.removeEventListener("keydown",we)})),(e,n)=>e.hideOnEmpty&&h.value.length==0?p("",!0):(d(),L("section",ya,[u(Vt,{color:"transparent"},{title:i(()=>[K(O(e.title)+" ",1),T(H)("bp11")?(d(),y(ae,{key:0,color:"grey",content:g.value,inline:""},null,8,["content"])):p("",!0)]),append:i(()=>[(e.showSelectButton!=null?e.showSelectButton:T(H)("bp1"))?(d(),y(E,A({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:Qe}),{default:i(()=>[u(P,{icon:S.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:T(H)("bp1"))?(d(),y(E,A({key:1},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:q}),{default:i(()=>[u(P,{icon:o.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),e.showAlbumArtistsOnlyFilter?(d(),y(E,A({key:2},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:D}),{default:i(()=>[u(P,{icon:o.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):p("",!0),(e.showRefreshButton!=null?e.showRefreshButton:T(H)("bp1"))?(d(),y(E,A({key:3},a,{variant:"list",title:e.updateAvailable?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||$.value,onClick:n[0]||(n[0]=l=>Ye())}),{default:i(()=>[u(ae,{"model-value":e.updateAvailable,color:"error",dot:""},{default:i(()=>[u(P,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):p("",!0),e.sortKeys.length>1?(d(),y(se,{key:4,modelValue:V.value,"onUpdate:modelValue":n[1]||(n[1]=l=>V.value=l),location:"bottom end","close-on-content-click":!0},{activator:i(({props:l})=>[u(E,A(l,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:i(()=>[u(P,A(l,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:i(()=>[u(Ie,null,{default:i(()=>[u(ne,null,{default:i(()=>[(d(!0),L(W,null,Q(e.sortKeys,l=>(d(),L("div",{key:l},[u(te,{onClick:k=>Xe(l)},{title:i(()=>[K(O(e.$t("sort."+l)),1)]),append:i(()=>[o.value.sortBy==l?(d(),y(P,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(le)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0),(e.showSearchButton!=null?e.showSearchButton:T(H)("bp1"))?(d(),y(E,A({key:5},a,{variant:"list",title:ge.value?e.$t("tooltip.search_filter_active"):e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=l=>X())}),{default:i(()=>[u(ae,{"model-value":ge.value,color:"error",dot:""},{default:i(()=>[u(P,{icon:"mdi-magnify"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):p("",!0),u(E,A(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=l=>j())}),{default:i(()=>[u(P,{icon:f.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.providerFilter&&e.providerFilter.length>1?(d(),y(se,{key:6,location:"bottom end","close-on-content-click":!0},{activator:i(({props:l})=>[u(E,A(l,{variant:"list",disabled:!m.value}),{default:i(()=>[u($e,{domain:o.value.providerFilter,size:30},null,8,["domain"])]),_:2},1040,["disabled"])]),default:i(()=>[u(Ie,null,{default:i(()=>[u(ne,null,{default:i(()=>[(d(!0),L(W,null,Q(e.providerFilter,l=>(d(),L("div",{key:l},[u(te,{onClick:k=>xe(l)},{prepend:i(()=>[u($e,{domain:l,size:30},null,8,["domain"])]),title:i(()=>[l=="library"?(d(),L("span",ha,O(e.$t("library")),1)):(d(),L("span",ga,O(T(Be).getProviderName(l)),1))]),append:i(()=>[o.value.providerFilter==l?(d(),y(P,{key:0,icon:"mdi-check"})):p("",!0)]),_:2},1032,["onClick"]),u(le)]))),128))]),_:1})]),_:1})]),_:1})):p("",!0),e.contextMenuItems&&e.contextMenuItems.length>0?(d(),y(se,{key:7,location:"bottom end"},{activator:i(({props:l})=>[u(E,A({variant:"list",style:{right:"3px"}},l),{default:i(()=>[u(P,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:i(()=>[u(ne,null,{default:i(()=>[(d(!0),L(W,null,Q(e.contextMenuItems.filter(l=>l.hide!=!0),(l,k)=>(d(),y(te,{key:k,title:e.$t(l.label,l.labelArgs),disabled:l.disabled==!0,onClick:F=>l.action?l.action():""},{prepend:i(()=>[u(Kt,{icon:l.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):p("",!0),e.allowCollapse?(d(),y(E,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:x},{default:i(()=>[u(P,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):p("",!0)]),_:1}),u(le),b.value&&m.value?(d(),y($t,{key:0,id:"searchInput",modelValue:o.value.search,"onUpdate:modelValue":n[4]||(n[4]=l=>o.value.search=l),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=l=>B.value=!0),onBlur:n[6]||(n[6]=l=>B.value=!1),"onClick:clear":Ze},null,8,["modelValue","label"])):p("",!0),m.value?(d(),y(kt,{key:1,variant:f.value=="panel"?"panel":"default"},{default:i(()=>[$.value?(d(),y(Te,{key:0,indeterminate:""})):p("",!0),f.value=="panel"?(d(),y(xt,{key:1},{default:i(()=>[(d(!0),L(W,null,Q(h.value,l=>(d(),y(zt,{key:l.uri,class:ht(`col-${T(gt)(e.$vuetify.display.width)}`)},{default:i(()=>[u(wt,{item:l,"is-selected":G(l),"show-checkboxes":S.value,"show-track-number":e.showTrackNumber,"show-favorite":e.showFavoritesOnlyFilter,onSelect:pe,onMenu:z,onClick:he},null,8,["item","is-selected","show-checkboxes","show-track-number","show-favorite"])]),_:2},1032,["class"]))),128))]),_:1})):p("",!0),f.value=="list"?(d(),y(Ut,{key:2,height:70,items:h.value,style:{height:"100%"}},{default:i(({item:l})=>[u(bt,{item:l,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":S.value,"is-selected":G(l),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?T(Bt)([l],e.parentItem):[],onSelect:pe,onMenu:z,onClick:he},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):p("",!0),e.infiniteScroll?(d(),y(T(pa),{key:3,onInfinite:be})):(g.value||0)>h.value.length?(d(),y(oe,{key:4,variant:"plain",onClick:n[7]||(n[7]=l=>be())},{default:i(()=>[K(O(e.$t("load_more_items")),1)]),_:1})):p("",!0),!$.value&&h.value.length==0?(d(),L("div",ba,[!$.value&&h.value.length==0&&(o.value.search||o.value.favoritesOnly)?(d(),y(_e,{key:0,title:e.$t("no_content_filter")},{default:i(()=>[o.value.search?(d(),y(oe,{key:0,style:{"margin-top":"15px"},onClick:et},{default:i(()=>[K(O(e.$t("try_global_search")),1)]),_:1})):p("",!0)]),_:1},8,["title"])):!$.value&&h.value.length==0?(d(),y(_e,{key:1},{default:i(()=>[K(O(e.$t("no_content")),1)]),_:1})):p("",!0)])):p("",!0),u(aa,{"model-value":w.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:i(()=>[u(oe,{color:"primary",variant:"text",onClick:n[8]||(n[8]=l=>ye(!0))},{default:i(()=>[K(O(e.$t("actions")),1)]),_:1})]),default:i(()=>[U("span",null,O(e.$t("items_selected",[w.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):p("",!0)]))}});export{zt as V,Na as _,xt as a};
