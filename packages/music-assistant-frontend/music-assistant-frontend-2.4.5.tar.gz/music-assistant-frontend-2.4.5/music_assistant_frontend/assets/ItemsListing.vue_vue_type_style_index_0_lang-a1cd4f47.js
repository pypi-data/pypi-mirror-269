import{az as Q,aA as le,p as oe,g as ne,c as se,aB as Ae,d as Xe,aC as et,h as tt,e as at,r as C,s as Oe,w as R,o as ie,aD as lt,l as c,n as A,aE as ot,q as re,aF as nt,aG as st,y as f,E as T,_ as X,I as y,B as q,N as M,a8 as it,a9 as rt,v as ut,L as ct,O as dt,b as vt,A as u,z as g,aa as ft,J as ke,Q as K,x as E,F as ee,G as te,M as mt,K as U,Z as yt,ak as pt}from"./index-b12bd80e.js";import{L as ht}from"./ListviewItem-96050575.js";import{C as gt,B as P,L as we}from"./Container-559ac507.js";import{_ as bt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-9e7798b1.js";import{e as kt,i as wt,a as St}from"./contextmenu-1ea20272.js";import{A as Se}from"./Alert-49bdea68.js";import{V as Ct}from"./VToolbar-4a427573.js";import{V as Bt}from"./VTextField-7036077f.js";import{V as W}from"./VBadge-ee40611b.js";import{a as Le,d as Pe,y as Vt,z as It,c as $t,A as _t,B as Ft,C as At,D as Ot,g as Lt,i as Pt,E as Nt,v as Ne,j as Et,F as Mt,n as O,k as Ce,l as ae}from"./forwardRefs-ccde8f15.js";import{V as Tt}from"./VCard-ff384e61.js";import{m as jt,a as Rt,f as Be,b as Ve,e as Ie,d as Dt}from"./VMenu-29f14170.js";/* empty css              */import{V as Kt}from"./VVirtualScroll-36f43258.js";const Ee=(()=>Q.reduce((t,i)=>(t[i]={type:[Boolean,String,Number],default:!1},t),{}))(),Me=(()=>Q.reduce((t,i)=>{const a="offset"+le(i);return t[a]={type:[String,Number],default:null},t},{}))(),Te=(()=>Q.reduce((t,i)=>{const a="order"+le(i);return t[a]={type:[String,Number],default:null},t},{}))(),$e={col:Object.keys(Ee),offset:Object.keys(Me),order:Object.keys(Te)};function Ut(t,i,a){let s=t;if(!(a==null||a===!1)){if(i){const l=i.replace(t,"");s+=`-${l}`}return t==="col"&&(s="v-"+s),t==="col"&&(a===""||a===!0)||(s+=`-${a}`),s.toLowerCase()}}const qt=["auto","start","end","center","baseline","stretch"],Gt=oe({cols:{type:[Boolean,String,Number],default:!1},...Ee,offset:{type:[String,Number],default:null},...Me,order:{type:[String,Number],default:null},...Te,alignSelf:{type:String,default:null,validator:t=>qt.includes(t)},...Le(),...Pe()},"VCol"),Ht=ne()({name:"VCol",props:Gt(),setup(t,i){let{slots:a}=i;const s=se(()=>{const l=[];let v;for(v in $e)$e[v].forEach(b=>{const B=t[b],p=Ut(v,b,B);p&&l.push(p)});const V=l.some(b=>b.startsWith("v-col-"));return l.push({"v-col":!V||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),l});return()=>{var l;return Ae(t.tag,{class:[s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}}),ue=["start","end","center"],je=["space-between","space-around","space-evenly"];function ce(t,i){return Q.reduce((a,s)=>{const l=t+le(s);return a[l]=i(),a},{})}const zt=[...ue,"baseline","stretch"],Re=t=>zt.includes(t),De=ce("align",()=>({type:String,default:null,validator:Re})),Jt=[...ue,...je],Ke=t=>Jt.includes(t),Ue=ce("justify",()=>({type:String,default:null,validator:Ke})),Wt=[...ue,...je,"stretch"],qe=t=>Wt.includes(t),Ge=ce("alignContent",()=>({type:String,default:null,validator:qe})),_e={align:Object.keys(De),justify:Object.keys(Ue),alignContent:Object.keys(Ge)},Qt={align:"align",justify:"justify",alignContent:"align-content"};function Yt(t,i,a){let s=Qt[t];if(a!=null){if(i){const l=i.replace(t,"");s+=`-${l}`}return s+=`-${a}`,s.toLowerCase()}}const Zt=oe({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Re},...De,justify:{type:String,default:null,validator:Ke},...Ue,alignContent:{type:String,default:null,validator:qe},...Ge,...Le(),...Pe()},"VRow"),xt=ne()({name:"VRow",props:Zt(),setup(t,i){let{slots:a}=i;const s=se(()=>{const l=[];let v;for(v in _e)_e[v].forEach(V=>{const b=t[V],B=Yt(v,V,b);B&&l.push(B)});return l.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),l});return()=>{var l;return Ae(t.tag,{class:["v-row",s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}});function Xt(t){const i=Oe(t);let a=-1;function s(){clearInterval(a)}function l(){s(),re(()=>i.value=t)}function v(V){const b=V?getComputedStyle(V):{transitionDuration:.2},B=parseFloat(b.transitionDuration)*1e3||200;if(s(),i.value<=0)return;const p=performance.now();a=window.setInterval(()=>{const $=performance.now()-p+B;i.value=Math.max(t-$,0),i.value<=0&&s()},B)}return ot(s),{clear:s,time:i,start:v,reset:l}}const ea=oe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Vt({location:"bottom"}),...It(),...$t(),..._t(),...Xe(),...et(jt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ta=ne()({name:"VSnackbar",props:ea(),emits:{"update:modelValue":t=>!0},setup(t,i){let{slots:a}=i;const s=tt(t,"modelValue"),{locationStyles:l}=Ft(t),{positionClasses:v}=At(t),{scopeId:V}=Rt(),{themeClasses:b}=at(t),{colorClasses:B,colorStyles:p,variantClasses:$}=Ot(t),{roundedClasses:h}=Lt(t),I=Xt(Number(t.timeout)),k=C(),_=C(),w=Oe(!1);R(s,N),R(()=>t.timeout,N),ie(()=>{s.value&&N()});let m=-1;function N(){I.reset(),window.clearTimeout(m);const j=Number(t.timeout);if(!s.value||j===-1)return;const G=lt(_.value);I.start(G),m=window.setTimeout(()=>{s.value=!1},j)}function Y(){I.reset(),window.clearTimeout(m)}function Z(){w.value=!0,Y()}function x(){w.value=!1,N()}return Pt(()=>{const j=Be.filterProps(t),G=!!(a.default||a.text||t.text);return c(Be,A({ref:k,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},v.value,t.class],style:t.style},j,{modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,contentProps:A({class:["v-snackbar__wrapper",b.value,B.value,h.value,$.value],style:[l.value,p.value],onPointerenter:Z,onPointerleave:x},j.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},V),{default:()=>{var D,H;return[Nt(!1,"v-snackbar"),t.timer&&!w.value&&c("div",{key:"timer",class:"v-snackbar__timer"},[c(Ne,{ref:_,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":I.time.value},null)]),G&&c("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=a.text)==null?void 0:D.call(a))??t.text,(H=a.default)==null?void 0:H.call(a)]),a.actions&&c(Et,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[c("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),Mt({},k)}}),He=(t,i)=>{const a=t.__vccOpts||t;for(const[s,l]of i)a[s]=l;return a},aa={},la=t=>(it("data-v-259be2b2"),t=t(),rt(),t),oa={class:"container"},na=la(()=>q("div",{class:"spinner"},null,-1)),sa=[na];function ia(t,i){return f(),T("div",oa,sa)}const ra=He(aa,[["render",ia],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),ua=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),ca=(t,i,a)=>()=>{const s=a.parentEl||document.documentElement;a.prevHeight=s.scrollHeight,i.loading(),t("infinite",i)},da=(t,i)=>{const a=t.getBoundingClientRect();if(!i)return a.top>=0&&a.bottom<=window.innerHeight;const s=i.getBoundingClientRect();return a.top>=s.top&&a.bottom<=s.bottom},Fe=t=>{t.parentEl=document.querySelector(t.target)||null;let i=`0px 0px ${t.distance}px 0px`;t.top&&(i=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:i});return a.observe(t.infiniteLoading.value),a},va={class:"state-error"},fa={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:i}){const a=t;let s=null;const l=C(null),v=C("ready"),{top:V,firstload:b,target:B,distance:p}=a,{identifier:$}=nt(a),h={infiniteLoading:l,target:B,top:V,firstload:b,distance:p,prevHeight:0,parentEl:null};h.emit=ca(i,ua(v),h);const I=()=>R(v,async _=>{const w=h.parentEl||document.documentElement;await re(),_=="loaded"&&V&&(w.scrollTop=w.scrollHeight-h.prevHeight),_=="loaded"&&da(l.value,h.parentEl)&&h.emit(),_=="complete"&&s.disconnect()}),k=()=>R($,()=>{v.value="ready",s.disconnect(),s=Fe(h)});return ie(()=>{s=Fe(h),I(),$&&k()}),st(()=>{s.disconnect()}),(_,w)=>(f(),T("div",{ref_key:"infiniteLoading",ref:l},[v.value=="loading"?X(_.$slots,"spinner",{key:0},()=>[c(ra)],!0):y("v-if",!0),v.value=="complete"?X(_.$slots,"complete",{key:1},()=>{var m;return[q("span",null,M(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):y("v-if",!0),v.value=="error"?X(_.$slots,"error",{key:2,retry:h.emit},()=>{var m;return[q("span",va,[q("span",null,M(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),q("button",{class:"retry",onClick:w[0]||(w[0]=(...N)=>h.emit&&h.emit(...N))}," retry ")])]},!0):y("v-if",!0)],512))}},ma=He(fa,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const ya={key:0},pa={key:5},Oa=ut({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(ct.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{default:void 0},hideOnEmpty:{type:Boolean,default:!1},showLibraryOnlyFilter:{type:Boolean,default:!1},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{default:void 0},loadPagedData:{type:Function,default:void 0},loadItems:{type:Function,default:void 0},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{default:void 0}},emits:["refreshClicked"],setup(t,{emit:i}){const a=t,s=ft(),l=C({offset:0,limit:100,sortBy:"name",search:"",libraryOnly:!1}),v=C("list"),V=C(!1),b=C(!1),B=C(!1),p=C([]),$=C([]),h=C(),I=C(!1),k=C([]),_=C(!1),w=C(!1),m=C(!0),{t:N}=dt(),Y=i,Z=function(){b.value?b.value=!1:(b.value=!0,re(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},x=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},j=function(){v.value==="panel"?v.value="list":v.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,v.value)},G=function(){l.value.favoritesOnly=!l.value.favoritesOnly;const e=l.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),L(!0)},D=function(){l.value.albumArtistsFilter=!l.value.albumArtistsFilter;const e=l.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),L(!0)},H=function(e){return k.value.includes(e)},de=function(e,n){if(n)k.value.includes(e)||k.value.push(e);else for(let o=0;o<k.value.length;o++)k.value[o]===e&&k.value.splice(o,1)},ze=function(){w.value&&(k.value=[]),w.value=!w.value},z=function(e,n=!0){k.value=[e],ve(n)},ve=function(e=!0){kt.emit("playdialog",{items:k.value,parentItem:a.parentItem,showContextMenuItems:e})},Je=function(){Y("refreshClicked"),L(!0,void 0,!0)},fe=function(e){var n;if(!wt(e)){z(e,!1);return}e.media_type==mt.FOLDER?s.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=ke.selectedPlayer)!=null&&n.available)?s.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):z(e,!0)},We=function(){l.value.search="",b.value=!1,L(!0)},me=se(()=>{var e=!1;return l.value.search&&l.value.search.length!==0&&(e=!0),e}),Qe=function(e,n){e!==void 0&&(l.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,l.value.sortBy),L(!0,void 0,e=="original")},Ye=function(){l.value.libraryOnly=!l.value.libraryOnly,L(!0,void 0,!0)},ye=function(e){if(p.value.length==0){e&&e.loaded();return}if(h.value!==void 0&&l.value.offset>=h.value){e&&e.loaded();return}l.value.offset+=a.limit,L().then(()=>{e&&e.loaded()})},Ze=function(){localStorage.setItem("globalsearch",l.value.search),s.push({name:"search",params:{initSearch:l.value.search}})};R(()=>l.value.search,e=>{e&&(b.value=!0),L(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,l.value.search)}),R(()=>a.path,()=>{$.value=[],pe()}),R(()=>a.limit,e=>{l.value.limit=e});const L=async function(e=!1,n=a.limit,o=!1){if((e||o)&&(l.value.offset=0,_.value=!1),I.value=!0,l.value.limit=a.limit,l.value.refresh=o,a.loadPagedData!==void 0){const S=await a.loadPagedData(l.value);S&&(l.value.offset?p.value.push(...S.items):p.value=S.items,h.value=S.total)}else if(a.loadItems!==void 0){($.value.length===0||o)&&($.value=[],$.value=await a.loadItems(l.value),l.value,h.value=$.value.length);const S=xe($.value,l.value);l.value.offset?p.value.push(...S):p.value=S}I.value=!1},J=function(e){return"label"in e&&e.label&&e.name?N(e.label,[e.name]):"label"in e&&e.label?N(e.label):"sort_name"in e&&e.sort_name?e.sort_name:e.name},xe=function(e,n){var S,F;let o=[];if(n.search){const d=n.search.toLowerCase();for(const r of e)(r.name.toLowerCase().includes(d)||"artist"in r&&((S=r.artist)!=null&&S.name.toLowerCase().includes(d))||"album"in r&&((F=r.album)!=null&&F.name.toLowerCase().includes(d))||"artists"in r&&r.artists&&r.artists[0].name.toLowerCase().includes(d))&&o.push(r)}else o=e;return n.sortBy=="name"&&o.sort((d,r)=>J(d).localeCompare(J(r))),n.sortBy=="name_desc"&&o.sort((d,r)=>J(r).localeCompare(J(d))),n.sortBy=="album"&&o.sort((d,r)=>{var ge,be;return(be=d.album)==null?void 0:be.sort_name.localeCompare((ge=r.album)==null?void 0:ge.sort_name)}),n.sortBy=="artist"&&o.sort((d,r)=>d.artists[0].name.localeCompare(r.artists[0].name)),n.sortBy=="track_number"&&(o.sort((d,r)=>(d.track_number||0)-(r.track_number||0)),o.sort((d,r)=>(d.disc_number||0)-(r.disc_number||0))),n.sortBy=="position"&&o.sort((d,r)=>(d.position||0)-(r.position||0)),n.sortBy=="position_desc"&&o.sort((d,r)=>(r.position||0)-(d.position||0)),n.sortBy=="year"&&o.sort((d,r)=>(d.year||0)-(r.year||0)),n.sortBy=="recent"&&o.sort((d,r)=>(r.timestamp_added||0)-(d.timestamp_added||0)),n.sortBy=="duration"&&o.sort((d,r)=>(d.duration||0)-(r.duration||0)),n.sortBy=="duration_desc"&&o.sort((d,r)=>(r.duration||0)-(d.duration||0)),n.sortBy=="provider"&&o.sort((d,r)=>d.provider.localeCompare(r.provider)),n.favoritesOnly&&(o=o.filter(d=>d.favorite)),o.slice(n.offset,n.offset+n.limit)},pe=function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?v.value=e:a.itemtype=="artists"||a.itemtype=="albums"?v.value="panel":v.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?l.value.sortBy=n:l.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const F=localStorage.getItem(`favoriteFilter.${a.itemtype}`);F&&F=="true"&&(l.value.favoritesOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const F=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);F&&(l.value.albumArtistsFilter=F=="true")}if(a.allowCollapse!==!1){const F=localStorage.getItem(`expand.${a.itemtype}`);F&&(m.value=F=="true")}let o=`search.${a.itemtype}`;a.parentItem&&(o+=a.parentItem.item_id);const S=localStorage.getItem(o);S&&S!=="null"&&(l.value.search=S),L(!0)};ie(async()=>{pe()});const he=function(e){if(!ke.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();p.value.length<h.value&&!(h.value!==void 0&&l.value.offset>=h.value);)l.value.offset+=a.limit,L();k.value=p.value,w.value=!0}else!B.value&&e.key=="Backspace"?l.value.search=l.value.search.slice(0,-1):!B.value&&e.key.length==1&&(l.value.search+=e.key,b.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",he),vt(()=>{document.removeEventListener("keydown",he)})),(e,n)=>e.hideOnEmpty&&p.value.length==0?y("",!0):(f(),T("section",ya,[c(Ct,{color:"transparent"},{title:u(()=>[K(M(e.title)+" ",1),E(U)("bp11")?(f(),g(W,{key:0,color:"grey",content:h.value,inline:""},null,8,["content"])):y("",!0)]),append:u(()=>[(e.showSelectButton!=null?e.showSelectButton:E(U)("bp1"))?(f(),g(P,A({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:ze}),{default:u(()=>[c(O,{icon:w.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showLibraryOnlyFilter!=null?e.showLibraryOnlyFilter:E(U)("bp1"))?(f(),g(P,A({key:1},a,{variant:"list",title:e.$t("tooltip.filter_library"),disabled:!m.value,onClick:Ye}),{default:u(()=>[c(W,{"model-value":l.value.libraryOnly,color:"error",dot:""},{default:u(()=>[c(O,{icon:"mdi-bookshelf"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:E(U)("bp1"))?(f(),g(P,A({key:2},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:G}),{default:u(()=>[c(O,{icon:l.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),e.showAlbumArtistsOnlyFilter?(f(),g(P,A({key:3},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:D}),{default:u(()=>[c(O,{icon:l.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showRefreshButton!=null?e.showRefreshButton:E(U)("bp1"))?(f(),g(P,A({key:4},a,{variant:"list",title:e.updateAvailable?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||I.value,onClick:n[0]||(n[0]=o=>Je())}),{default:u(()=>[c(W,{"model-value":e.updateAvailable,color:"error",dot:""},{default:u(()=>[c(O,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),e.sortKeys.length>1?(f(),g(Ie,{key:5,modelValue:V.value,"onUpdate:modelValue":n[1]||(n[1]=o=>V.value=o),location:"bottom end","close-on-content-click":!0},{activator:u(({props:o})=>[c(P,A(o,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:u(()=>[c(O,A(o,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:u(()=>[c(Tt,null,{default:u(()=>[c(Ve,null,{default:u(()=>[(f(!0),T(ee,null,te(e.sortKeys,o=>(f(),T("div",{key:o},[c(we,{onClick:S=>Qe(o)},{title:u(()=>[K(M(e.$t("sort."+o)),1)]),append:u(()=>[l.value.sortBy==o?(f(),g(O,{key:0,icon:"mdi-check"})):y("",!0)]),_:2},1032,["onClick"]),c(Ce)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),(e.showSearchButton!=null?e.showSearchButton:E(U)("bp1"))?(f(),g(P,A({key:6},a,{variant:"list",title:me.value?e.$t("tooltip.search_filter_active"):e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=o=>Z())}),{default:u(()=>[c(W,{"model-value":me.value,color:"error",dot:""},{default:u(()=>[c(O,{icon:"mdi-magnify"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),c(P,A(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=o=>j())}),{default:u(()=>[c(O,{icon:v.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.contextMenuItems&&e.contextMenuItems.length>0?(f(),g(Ie,{key:7,location:"bottom end"},{activator:u(({props:o})=>[c(P,A({variant:"list",style:{right:"3px"}},o),{default:u(()=>[c(O,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:u(()=>[c(Ve,null,{default:u(()=>[(f(!0),T(ee,null,te(e.contextMenuItems.filter(o=>o.hide!=!0),(o,S)=>(f(),g(we,{key:S,title:e.$t(o.label,o.labelArgs),disabled:o.disabled==!0,onClick:F=>o.action?o.action():""},{prepend:u(()=>[c(Dt,{icon:o.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):y("",!0),e.allowCollapse?(f(),g(P,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:x},{default:u(()=>[c(O,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):y("",!0)]),_:1}),c(Ce),b.value&&m.value?(f(),g(Bt,{key:0,id:"searchInput",modelValue:l.value.search,"onUpdate:modelValue":n[4]||(n[4]=o=>l.value.search=o),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=o=>B.value=!0),onBlur:n[6]||(n[6]=o=>B.value=!1),"onClick:clear":We},null,8,["modelValue","label"])):y("",!0),m.value?(f(),g(gt,{key:1,variant:v.value=="panel"?"panel":"default"},{default:u(()=>[I.value?(f(),g(Ne,{key:0,indeterminate:""})):y("",!0),v.value=="panel"?(f(),g(xt,{key:1},{default:u(()=>[(f(!0),T(ee,null,te(p.value,o=>(f(),g(Ht,{key:o.uri,class:yt(`col-${E(pt)(e.$vuetify.display.width)}`)},{default:u(()=>[c(bt,{item:o,"is-selected":H(o),"show-checkboxes":w.value,"show-track-number":e.showTrackNumber,"show-favorite":e.showFavoritesOnlyFilter,onSelect:de,onMenu:z,onClick:fe},null,8,["item","is-selected","show-checkboxes","show-track-number","show-favorite"])]),_:2},1032,["class"]))),128))]),_:1})):y("",!0),v.value=="list"?(f(),g(Kt,{key:2,height:70,items:p.value,style:{height:"100%"}},{default:u(({item:o})=>[c(ht,{item:o,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":w.value,"is-selected":H(o),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?E(St)([o],e.parentItem):[],onSelect:de,onMenu:z,onClick:fe},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):y("",!0),e.infiniteScroll?(f(),g(E(ma),{key:3,onInfinite:ye})):(h.value||0)>p.value.length?(f(),g(ae,{key:4,variant:"plain",onClick:n[7]||(n[7]=o=>ye())},{default:u(()=>[K(M(e.$t("load_more_items")),1)]),_:1})):y("",!0),!I.value&&p.value.length==0?(f(),T("div",pa,[!I.value&&p.value.length==0&&(l.value.search||l.value.favoritesOnly)?(f(),g(Se,{key:0,title:e.$t("no_content_filter")},{default:u(()=>[l.value.search?(f(),g(ae,{key:0,style:{"margin-top":"15px"},onClick:Ze},{default:u(()=>[K(M(e.$t("try_global_search")),1)]),_:1})):y("",!0)]),_:1},8,["title"])):!I.value&&p.value.length==0?(f(),g(Se,{key:1},{default:u(()=>[K(M(e.$t("no_content")),1)]),_:1})):y("",!0)])):y("",!0),c(ta,{"model-value":k.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:u(()=>[c(ae,{color:"primary",variant:"text",onClick:n[8]||(n[8]=o=>ve(!0))},{default:u(()=>[K(M(e.$t("actions")),1)]),_:1})]),default:u(()=>[q("span",null,M(e.$t("items_selected",[k.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):y("",!0)]))}});export{Ht as V,Oa as _,xt as a};
