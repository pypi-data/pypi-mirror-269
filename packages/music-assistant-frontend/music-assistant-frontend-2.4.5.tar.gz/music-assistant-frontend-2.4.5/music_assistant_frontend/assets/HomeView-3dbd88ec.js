import{L as J,a as K,C as U}from"./Container-559ac507.js";import{v as h,o as Z,R as I,y as a,z as v,A as r,_ as X,x as d,ak as x,K as V,E as o,l,B as y,N as u,D as ee,F as L,G as D,I as P,V as G,M as Q,r as te,al as w,L as _,Q as C,ab as ie,J as k,a2 as q,Z as ae,c as se,am as re}from"./index-b12bd80e.js";import{_ as oe}from"./PanelviewItem.vue_vue_type_style_index_0_lang-9e7798b1.js";import{i as ne,e as le}from"./contextmenu-1ea20272.js";import{n as R,l as ue,x as de}from"./forwardRefs-ccde8f15.js";import{V as me,M as _e,i as ce}from"./VBadge-ee40611b.js";import{V as Y}from"./VToolbar-4a427573.js";import{V as pe}from"./VCard-ff384e61.js";import"./VMenu-29f14170.js";/* empty css              */import"./VTooltip-7261e542.js";import"./VInput-07934be9.js";import"./VSlideGroup-59a451fd.js";import"./VCardText-a5346cc1.js";const j=h({__name:"Carousel",setup(b){return Z(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,t)=>{const i=I("swiper");return a(),v(i,{"slides-per-view":d(x)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!d(V)({breakpoint:"mobile"})},{default:r(()=>[X(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),ye={key:0,class:"widget-row"},ve={class:"mr-3"},we={key:1,class:"mr-3"},he=h({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(b){const e=function(t){ne(t)&&["artist","album","playlist"].includes(t.media_type)?G.push({name:t.media_type,params:{itemId:t.item_id,provider:t.provider}}):t.media_type===Q.FOLDER?G.push({name:"browse",query:{path:t.path}}):le.emit("playdialog",{items:[t],showContextMenuItems:!0})};return(t,i)=>{const s=I("swiper-slide");return t.widgetRow.items.length?(a(),o("div",ye,[l(Y,{color:"transparent",style:ee(t.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:i[0]||(i[0]=n=>t.widgetRow.path?t.$router.replace(t.widgetRow.path):"")},{prepend:r(()=>[l(R,{icon:t.widgetRow.icon},null,8,["icon"])]),title:r(()=>[t.widgetRow.count?(a(),v(me,{key:0,inline:"",color:"grey",content:t.widgetRow.count},{default:r(()=>[y("span",ve,u(t.$t(t.widgetRow.label)),1)]),_:1},8,["content"])):(a(),o("span",we,u(t.$t(t.widgetRow.label)),1))]),_:1},8,["style"]),l(j,null,{default:r(()=>[(a(!0),o(L,null,D(t.widgetRow.items,n=>(a(),v(s,{key:n.uri},{default:r(()=>[l(oe,{item:n,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onClick:e},null,8,["item"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const be=h({__name:"HomeWidgetRows",async setup(b){let e,t;const i=te({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});i.value.recently_played.items=([e,t]=w(()=>_.getRecentlyPlayedItems(20)),e=await e,t(),e);const s=([e,t]=w(()=>_.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()")),e=await e,t(),e);i.value.artists.items=s.items,i.value.artists.count=s.total;const n=([e,t]=w(()=>_.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.albums.items=n.items,i.value.albums.count=n.total;const c=([e,t]=w(()=>_.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.playlists.items=c.items,i.value.playlists.count=c.total;const m=([e,t]=w(()=>_.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.radios.items=m.items,i.value.radios.count=m.total;const p=([e,t]=w(()=>_.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);return i.value.tracks.items=p.items,i.value.tracks.count=p.total,[e,t]=w(()=>_.browse("",f=>{i.value.browse.items.push(...f)})),await e,t(),(f,$)=>(a(!0),o(L,null,D(i.value,g=>(a(),o("div",{key:g.label},[l(he,{"widget-row":g},null,8,["widget-row"])]))),128))}}),fe={class:"media-thumb player-media-thumb"},ge={style:{cursor:"pointer"}},ke={key:0},qe={key:0},Ce={key:1},Pe={key:2},Re={style:{cursor:"pointer"},class:"line-clamp-1"},$e={key:0},Ve={key:1},Ie={key:2,class:"line-clamp-1"},Le={key:3,class:"line-clamp-1"},De={key:4,class:"line-clamp-1"},Se={key:5,class:"line-clamp-1"},Ae={style:{cursor:"pointer"}},Ee={style:{cursor:"pointer",fontWeight:"bold"}},ze=h({__name:"PanelviewPlayerCard",props:{queue:{}},setup(b){return(e,t)=>(a(),v(pe,{class:ae(["panel-item",{"panel-item-selected":d(k).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==d(q).IDLE}])},{default:r(()=>[l(J,{class:"panel-item-details"},{prepend:r(()=>{var i;return[y("div",fe,[l(_e,{size:"60",item:((i=e.queue.current_item)==null?void 0:i.media_item)||e.queue.current_item,fallback:d(ce),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:r(()=>{var i,s,n,c,m,p;return[y("div",ge,[(i=e.queue.current_item)!=null&&i.media_item?(a(),o("div",ke,[C(u((s=e.queue.current_item)==null?void 0:s.media_item.name)+" ",1),"version"in((n=e.queue.current_item)==null?void 0:n.media_item)&&((c=e.queue.current_item)!=null&&c.media_item.version)?(a(),o("span",qe,"("+u((m=e.queue.current_item)==null?void 0:m.media_item.version)+")",1)):P("",!0)])):e.queue.current_item?(a(),o("div",Ce,u((p=e.queue.current_item)==null?void 0:p.name),1)):(a(),o("div",Pe,u(e.queue.display_name),1))])]}),subtitle:r(()=>{var i,s,n,c,m,p,f,$,g,S,A,E,z,B,H,N,M,T,W,O,F;return[y("div",Re,[(i=e.queue.current_item)!=null&&i.media_item&&((n=(s=e.queue.current_item)==null?void 0:s.media_item)==null?void 0:n.media_type)==d(Q).TRACK&&"album"in((c=e.queue.current_item)==null?void 0:c.media_item)&&((m=e.queue.current_item)!=null&&m.media_item.album)?(a(),o("div",$e,u(d(ie)((p=e.queue.current_item)==null?void 0:p.media_item.artists))+" â€¢ "+u((f=e.queue.current_item)==null?void 0:f.media_item.album.name),1)):($=e.queue.current_item)!=null&&$.media_item&&"artists"in((g=e.queue.current_item)==null?void 0:g.media_item)&&((S=e.queue.current_item)==null?void 0:S.media_item.artists.length)>0?(a(),o("div",Ve,u((A=e.queue.current_item)==null?void 0:A.media_item.artists[0].name),1)):(z=(E=e.queue.current_item)==null?void 0:E.streamdetails)!=null&&z.stream_title?(a(),o("div",Ie,u((H=(B=e.queue.current_item)==null?void 0:B.streamdetails)==null?void 0:H.stream_title),1)):(M=(N=e.queue.current_item)==null?void 0:N.media_item)!=null&&M.metadata.description?(a(),o("div",Le,u((T=e.queue.current_item)==null?void 0:T.media_item.metadata.description),1)):e.queue.items==0?(a(),o("div",De,u(e.$t("queue_empty")),1)):((W=d(k).selectedPlayer)==null?void 0:W.active_source)!=((O=d(k).selectedPlayer)==null?void 0:O.player_id)?(a(),o("div",Se,u(e.$t("external_source_active",[(F=d(k).selectedPlayer)==null?void 0:F.active_source])),1)):P("",!0)])]}),default:r(()=>[y("div",Ae,[y("div",null,[C(" on "),y("span",Ee,u(e.queue.display_name),1)])])]),append:r(()=>[l(ue,{icon:"",variant:"text",onClick:t[0]||(t[0]=i=>d(_).queueCommandPlayPause(e.queue.queue_id))},{default:r(()=>[e.queue.state==d(q).PLAYING?(a(),v(R,{key:0,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-pause-circle-outline")]),_:1},8,["size"])):(a(),v(R,{key:1,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const Be=K(ze,[["__scopeId","data-v-cec58dcd"]]),He={key:0,class:"widget-row"},Ne={class:"mr-3"},Me=h({__name:"HomeCurrentlyPlayingRow",setup(b){const e={[q.PLAYING]:1,[q.PAUSED]:2,[q.IDLE]:2},t=se(()=>Object.values(_.queues).filter(s=>s.active&&s.items>0&&s.queue_id in _.players&&_.players[s.queue_id].powered).sort((s,n)=>s.display_name.localeCompare(n.display_name)).sort((s,n)=>e[s.state]-e[n.state]));function i(s){s&&s.queue_id in _.players&&(k.selectedPlayerId=s.queue_id)}return(s,n)=>{const c=I("swiper-slide");return t.value.length?(a(),o("div",He,[l(Y,{color:"transparent",style:{width:"fit-content"}},{prepend:r(()=>[l(R,{icon:"mdi-playlist-play"})]),title:r(()=>[y("span",Ne,u(s.$t("currently_playing")),1)]),_:1}),l(j,null,{default:r(()=>[(a(!0),o(L,null,D(t.value,m=>(a(),v(c,{key:m.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:r(()=>[l(Be,{queue:m,onClick:p=>i(m)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}}),Te=h({__name:"HomeView",setup(b){return(e,t)=>(a(),o("div",null,[l(U,{variant:"panel"},{default:r(()=>[(a(),v(re,null,{fallback:r(()=>[l(de,{indeterminate:""})]),default:r(()=>[y("div",null,[l(Me),l(be)])]),_:1}))]),_:1})]))}});const tt=K(Te,[["__scopeId","data-v-29a1628b"]]);export{tt as default};
