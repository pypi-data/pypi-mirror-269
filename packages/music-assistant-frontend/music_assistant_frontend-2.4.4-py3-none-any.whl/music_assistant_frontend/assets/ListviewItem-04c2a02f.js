import{v as L,O as $,c as M,aH as h,ae as N,y as i,E as o,af as T,z as r,A as s,l,H as c,x as t,B as b,N as a,Q as u,I as m,n as F,Z as R,M as d,L as P,aI as S,aq as H,ab as k,K as B,W as z}from"./index-e734c256.js";import{M as E,b as O}from"./VBadge-e60e80c3.js";import{_ as K,L as U,a as W}from"./Container-235383e5.js";import{a as q,c as y,b as G,_ as Q,V as _}from"./VTooltip-ebb61ea6.js";import{n as w,V as Y}from"./forwardRefs-708ed339.js";const Z={key:0,class:"media-thumb listitem-media-thumb"},j={key:1,class:"media-thumb listitem-media-thumb"},J={key:0},X={key:1},x={key:0},ee={key:0,class:"line-clamp-1"},ie={key:1},te={key:2},ae={key:3},oe={key:4},se={key:5},me={key:6},ne={key:2},re={key:3},le={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},de=L({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0},contextMenuItems:{default:void 0}},emits:["menu","click","select"],setup(D,{emit:V}){const{t:A}=$(),g=D,I=M(()=>{if(!("provider_mappings"in g.item))return"";for(const e of g.item.provider_mappings)if(e.audio_format&&e.audio_format.content_type!=null&&[h.DSF,h.FLAC,h.AIFF,h.WAV].includes(e.audio_format.content_type)&&(e.audio_format.sample_rate>48e3||e.audio_format.bit_depth>16))return`${e.audio_format.sample_rate/1e3}kHz ${e.audio_format.bit_depth} bits`;return""}),f=V,C=function(e){var n;if(e.media_type==d.FOLDER||!g.item.provider_mappings)return!0;for(const v of e.provider_mappings)if(v.available&&((n=P.providers[v.provider_instance])!=null&&n.available))return!0;return!1};return(e,n)=>{const v=N("hold");return i(),o("div",null,[T((i(),r(U,{link:"",disabled:!C(e.item)||e.isDisabled,"context-menu-items":e.contextMenuItems,onClick:n[2]||(n[2]=c(p=>f("click",e.item),["stop"])),onContextmenu:n[3]||(n[3]=c(()=>f("menu",e.item),["right","prevent"]))},{prepend:s(()=>[e.showCheckboxes?(i(),o("div",Z,[l(q,{"model-value":e.isSelected,onClick:n[0]||(n[0]=c(()=>{},["stop"])),"onUpdate:modelValue":n[1]||(n[1]=p=>{p!=null&&f("select",e.item,p)})},null,8,["model-value"])])):(i(),o("div",j,[l(E,{height:"50",width:"50",item:e.item},null,8,["item"])]))]),title:s(()=>[e.item.media_type==t(d).FOLDER?(i(),o("span",J,[b("span",null,a(t(S)(e.item,t(A))),1)])):(i(),o("span",X,[u(a(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),o("span",x,"("+a(e.item.version)+")",1)):m("",!0)])),e.item&&e.item.metadata?(i(),r(t(_),{key:2,location:"bottom"},{activator:s(({props:p})=>[t(H)(e.item.metadata.explicit||!1)?(i(),r(w,F({key:0},p,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):m("",!0)]),default:s(()=>[b("span",null,a(e.$t("tooltip.explicit")),1)]),_:1})):m("",!0)]),subtitle:s(()=>[e.item.media_type==t(d).TRACK&&"provider_mappings"in e.item?(i(),o("div",ee,[l(G,null,{default:s(()=>["artists"in e.item?(i(),r(y,{key:0},{default:s(()=>[u(a(t(k)(e.item.artists,2)),1)]),_:1})):m("",!0),e.showAlbum&&"album"in e.item&&e.item.album?(i(),r(y,{key:1},{default:s(()=>[u(" • "+a(e.item.album.name),1)]),_:1})):m("",!0),"disc_number"in e.item&&e.item.disc_number&&e.showDiscNumber?(i(),r(y,{key:2},{default:s(()=>[l(w,{style:{"margin-left":"5px"},icon:"md:album"}),u(" "+a(e.item.disc_number),1)]),_:1})):m("",!0),"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(i(),r(y,{key:3},{default:s(()=>[l(w,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),u(" "+a(e.item.track_number),1)]),_:1})):"position"in e.item&&e.item.position&&e.showPosition?(i(),r(y,{key:4},{default:s(()=>[l(w,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),u(" "+a(e.item.position),1)]),_:1})):m("",!0)]),_:1})])):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(i(),o("div",ie,a(e.$t("album_type."+e.item.album_type))+" • "+a(t(k)(e.item.artists))+" • "+a(e.item.year),1)):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(i(),o("div",te,a(e.$t("album_type."+e.item.album_type))+" • "+a(t(k)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(i(),o("div",ae,a(t(k)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),o("div",oe,a(e.item.owner),1)):e.item.media_type==t(d).RADIO&&e.item.metadata.description?(i(),o("div",se,a(e.item.metadata.description),1)):"media_type"in e.item&&!e.item.provider_mappings?(i(),o("div",me,a(e.$t(e.item.media_type)),1)):m("",!0)]),append:s(()=>[I.value?(i(),r(Y,{key:0,src:t(O),width:"30",class:R(e.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:s(()=>[l(t(_),{activator:"parent",location:"bottom"},{default:s(()=>[u(a(I.value),1)]),_:1})]),_:1},8,["src","class"])):m("",!0),t(B)("bp2")&&e.showProvider?(i(),r(K,{key:1,domain:e.item.media_type==t(d).PLAYLIST?e.item.provider_mappings[0].provider_domain:e.item.provider,size:24},null,8,["domain"])):m("",!0),t(B)("bp3")&&"favorite"in e.item&&e.showFavorite&&!e.$vuetify.display.mobile?(i(),o("div",ne,[l(Q,{item:e.item},null,8,["item"])])):m("",!0),e.showDuration&&e.item.media_type==t(d).TRACK&&"duration"in e.item&&e.item.duration!=null&&t(B)("bp0")?(i(),o("div",re,[b("div",null,[b("span",le,a(t(z)(e.item.duration)),1)])])):m("",!0)]),_:1},8,["disabled","context-menu-items"])),[[v,()=>f("menu",e.item)]])])}}});const he=W(de,[["__scopeId","data-v-32dc8c44"]]);export{he as L};
